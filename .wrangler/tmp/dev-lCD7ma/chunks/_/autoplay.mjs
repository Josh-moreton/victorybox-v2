import{e,b as a,c as t,d as s,g as l}from"./create-element-if-not-defined.mjs";function classesToSelector(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Pagination(l){let{swiper:i,extendParams:n,on:r,emit:o}=l;const p="swiper-pagination";let d;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${p}-bullet`,bulletActiveClass:`${p}-bullet-active`,modifierClass:`${p}-`,currentClass:`${p}-current`,totalClass:`${p}-total`,hiddenClass:`${p}-hidden`,progressbarFillClass:`${p}-progressbar-fill`,progressbarOppositeClass:`${p}-progressbar-opposite`,clickableClass:`${p}-clickable`,lockClass:`${p}-lock`,horizontalClass:`${p}-horizontal`,verticalClass:`${p}-vertical`,paginationDisabledClass:`${p}-disabled`}}),i.pagination={el:null,bullets:[]};let c=0;const makeElementsArray=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function isPaginationDisabled(){return!i.params.pagination.el||!i.pagination.el||Array.isArray(i.pagination.el)&&0===i.pagination.el.length}function setSideBullets(e,a){const{bulletActiveClass:t}=i.params.pagination;e&&(e=e[("prev"===a?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${t}-${a}`),(e=e[("prev"===a?"previous":"next")+"ElementSibling"])&&e.classList.add(`${t}-${a}-${a}`))}function onBulletClick(e){const t=e.target.closest(classesToSelector(i.params.pagination.bulletClass));if(!t)return;e.preventDefault();const s=a(t)*i.params.slidesPerGroup;if(i.params.loop){if(i.realIndex===s)return;const e=i.realIndex,a=i.getSlideIndexByData(s),t=i.getSlideIndexByData(i.realIndex),loopFix=t=>{const s=i.activeIndex;i.loopFix({direction:t,activeSlideIndex:a,slideTo:!1});s===i.activeIndex&&i.slideToLoop(e,0,!1,!0)};if(a>i.slides.length-i.loopedSlides)loopFix(a>t?"next":"prev");else if(i.params.centeredSlides){const e="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(i.params.slidesPerView,10));a<Math.floor(e/2)&&loopFix("prev")}i.slideToLoop(s)}else i.slideTo(s)}function update(){const t=i.rtl,s=i.params.pagination;if(isPaginationDisabled())return;let l,n,r=i.pagination.el;r=makeElementsArray(r);const p=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.slides.length,u=i.params.loop?Math.ceil(p/i.params.slidesPerGroup):i.snapGrid.length;if(i.params.loop?(n=i.previousRealIndex||0,l=i.params.slidesPerGroup>1?Math.floor(i.realIndex/i.params.slidesPerGroup):i.realIndex):void 0!==i.snapIndex?(l=i.snapIndex,n=i.previousSnapIndex):(n=i.previousIndex||0,l=i.activeIndex||0),"bullets"===s.type&&i.pagination.bullets&&i.pagination.bullets.length>0){const o=i.pagination.bullets;let p,u,m;if(s.dynamicBullets&&(d=e(o[0],i.isHorizontal()?"width":"height"),r.forEach((e=>{e.style[i.isHorizontal()?"width":"height"]=d*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==n&&(c+=l-(n||0),c>s.dynamicMainBullets-1?c=s.dynamicMainBullets-1:c<0&&(c=0)),p=Math.max(l-c,0),u=p+(Math.min(o.length,s.dynamicMainBullets)-1),m=(u+p)/2),o.forEach((e=>{const a=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...a)})),r.length>1)o.forEach((e=>{const t=a(e);t===l?e.classList.add(...s.bulletActiveClass.split(" ")):i.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(t>=p&&t<=u&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),t===p&&setSideBullets(e,"prev"),t===u&&setSideBullets(e,"next"))}));else{const e=o[l];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),i.isElement&&o.forEach(((e,a)=>{e.setAttribute("part",a===l?"bullet-active":"bullet")})),s.dynamicBullets){const e=o[p],a=o[u];for(let e=p;e<=u;e+=1)o[e]&&o[e].classList.add(...`${s.bulletActiveClass}-main`.split(" "));setSideBullets(e,"prev"),setSideBullets(a,"next")}}if(s.dynamicBullets){const e=Math.min(o.length,s.dynamicMainBullets+4),a=(d*e-d)/2-m*d,l=t?"right":"left";o.forEach((e=>{e.style[i.isHorizontal()?l:"top"]=`${a}px`}))}}r.forEach(((e,a)=>{if("fraction"===s.type&&(e.querySelectorAll(classesToSelector(s.currentClass)).forEach((e=>{e.textContent=s.formatFractionCurrent(l+1)})),e.querySelectorAll(classesToSelector(s.totalClass)).forEach((e=>{e.textContent=s.formatFractionTotal(u)}))),"progressbar"===s.type){let a;a=s.progressbarOpposite?i.isHorizontal()?"vertical":"horizontal":i.isHorizontal()?"horizontal":"vertical";const t=(l+1)/u;let n=1,r=1;"horizontal"===a?n=t:r=t,e.querySelectorAll(classesToSelector(s.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${r})`,e.style.transitionDuration=`${i.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(e.innerHTML=s.renderCustom(i,l+1,u),0===a&&o("paginationRender",e)):(0===a&&o("paginationRender",e),o("paginationUpdate",e)),i.params.watchOverflow&&i.enabled&&e.classList[i.isLocked?"add":"remove"](s.lockClass)}))}function render(){const e=i.params.pagination;if(isPaginationDisabled())return;const a=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.slides.length;let t=i.pagination.el;t=makeElementsArray(t);let s="";if("bullets"===e.type){let t=i.params.loop?Math.ceil(a/i.params.slidesPerGroup):i.snapGrid.length;i.params.freeMode&&i.params.freeMode.enabled&&t>a&&(t=a);for(let a=0;a<t;a+=1)e.renderBullet?s+=e.renderBullet.call(i,a,e.bulletClass):s+=`<${e.bulletElement} ${i.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(i,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(i,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),i.pagination.bullets=[],t.forEach((a=>{"custom"!==e.type&&(a.innerHTML=s||""),"bullets"===e.type&&i.pagination.bullets.push(...a.querySelectorAll(classesToSelector(e.bulletClass)))})),"custom"!==e.type&&o("paginationRender",t[0])}function init(){i.params.pagination=t(i,i.originalParams.pagination,i.params.pagination,{el:"swiper-pagination"});const e=i.params.pagination;if(!e.el)return;let a;"string"==typeof e.el&&i.isElement&&(a=i.el.querySelector(e.el)),a||"string"!=typeof e.el||(a=[...document.querySelectorAll(e.el)]),a||(a=e.el),a&&0!==a.length&&(i.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(a)&&a.length>1&&(a=[...i.el.querySelectorAll(e.el)],a.length>1&&(a=a.filter((e=>s(e,".swiper")[0]===i.el))[0])),Array.isArray(a)&&1===a.length&&(a=a[0]),Object.assign(i.pagination,{el:a}),a=makeElementsArray(a),a.forEach((a=>{"bullets"===e.type&&e.clickable&&a.classList.add(...(e.clickableClass||"").split(" ")),a.classList.add(e.modifierClass+e.type),a.classList.add(i.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(a.classList.add(`${e.modifierClass}${e.type}-dynamic`),c=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&a.classList.add(e.progressbarOppositeClass),e.clickable&&a.addEventListener("click",onBulletClick),i.enabled||a.classList.add(e.lockClass)})))}function destroy(){const e=i.params.pagination;if(isPaginationDisabled())return;let a=i.pagination.el;a&&(a=makeElementsArray(a),a.forEach((a=>{a.classList.remove(e.hiddenClass),a.classList.remove(e.modifierClass+e.type),a.classList.remove(i.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(a.classList.remove(...(e.clickableClass||"").split(" ")),a.removeEventListener("click",onBulletClick))}))),i.pagination.bullets&&i.pagination.bullets.forEach((a=>a.classList.remove(...e.bulletActiveClass.split(" "))))}r("changeDirection",(()=>{if(!i.pagination||!i.pagination.el)return;const e=i.params.pagination;let{el:a}=i.pagination;a=makeElementsArray(a),a.forEach((a=>{a.classList.remove(e.horizontalClass,e.verticalClass),a.classList.add(i.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),r("init",(()=>{!1===i.params.pagination.enabled?disable():(init(),render(),update())})),r("activeIndexChange",(()=>{void 0===i.snapIndex&&update()})),r("snapIndexChange",(()=>{update()})),r("snapGridLengthChange",(()=>{render(),update()})),r("destroy",(()=>{destroy()})),r("enable disable",(()=>{let{el:e}=i.pagination;e&&(e=makeElementsArray(e),e.forEach((e=>e.classList[i.enabled?"remove":"add"](i.params.pagination.lockClass))))})),r("lock unlock",(()=>{update()})),r("click",((e,a)=>{const t=a.target,s=makeElementsArray(i.pagination.el);if(i.params.pagination.el&&i.params.pagination.hideOnClick&&s&&s.length>0&&!t.classList.contains(i.params.pagination.bulletClass)){if(i.navigation&&(i.navigation.nextEl&&t===i.navigation.nextEl||i.navigation.prevEl&&t===i.navigation.prevEl))return;const e=s[0].classList.contains(i.params.pagination.hiddenClass);o(!0===e?"paginationShow":"paginationHide"),s.forEach((e=>e.classList.toggle(i.params.pagination.hiddenClass)))}}));const disable=()=>{i.el.classList.add(i.params.pagination.paginationDisabledClass);let{el:e}=i.pagination;e&&(e=makeElementsArray(e),e.forEach((e=>e.classList.add(i.params.pagination.paginationDisabledClass)))),destroy()};Object.assign(i.pagination,{enable:()=>{i.el.classList.remove(i.params.pagination.paginationDisabledClass);let{el:e}=i.pagination;e&&(e=makeElementsArray(e),e.forEach((e=>e.classList.remove(i.params.pagination.paginationDisabledClass)))),init(),render(),update()},disable:disable,render:render,update:update,init:init,destroy:destroy})}function Autoplay(e){let a,t,{swiper:s,extendParams:i,on:n,emit:r,params:o}=e;s.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let p,d,c,u,m,g,y,b=o&&o.autoplay?o.autoplay.delay:3e3,v=o&&o.autoplay?o.autoplay.delay:3e3,f=(new Date).getTime;function onTransitionEnd(e){s&&!s.destroyed&&s.wrapperEl&&e.target===s.wrapperEl&&(s.wrapperEl.removeEventListener("transitionend",onTransitionEnd),resume())}const calcTimeLeft=()=>{if(s.destroyed||!s.autoplay.running)return;s.autoplay.paused?d=!0:d&&(v=p,d=!1);const e=s.autoplay.paused?p:f+v-(new Date).getTime();s.autoplay.timeLeft=e,r("autoplayTimeLeft",e,e/b),t=requestAnimationFrame((()=>{calcTimeLeft()}))},run=e=>{if(s.destroyed||!s.autoplay.running)return;cancelAnimationFrame(t),calcTimeLeft();let l=void 0===e?s.params.autoplay.delay:e;b=s.params.autoplay.delay,v=s.params.autoplay.delay;const i=(()=>{let e;if(e=s.virtual&&s.params.virtual.enabled?s.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:s.slides[s.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(l=i,b=i,v=i),p=l;const n=s.params.speed,proceed=()=>{s&&!s.destroyed&&(s.params.autoplay.reverseDirection?!s.isBeginning||s.params.loop||s.params.rewind?(s.slidePrev(n,!0,!0),r("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(s.slides.length-1,n,!0,!0),r("autoplay")):!s.isEnd||s.params.loop||s.params.rewind?(s.slideNext(n,!0,!0),r("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(0,n,!0,!0),r("autoplay")),s.params.cssMode&&(f=(new Date).getTime(),requestAnimationFrame((()=>{run()}))))};return l>0?(clearTimeout(a),a=setTimeout((()=>{proceed()}),l)):requestAnimationFrame((()=>{proceed()})),l},start=()=>{s.autoplay.running=!0,run(),r("autoplayStart")},stop=()=>{s.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(t),r("autoplayStop")},pause=(e,t)=>{if(s.destroyed||!s.autoplay.running)return;clearTimeout(a),e||(y=!0);const proceed=()=>{r("autoplayPause"),s.params.autoplay.waitForTransition?s.wrapperEl.addEventListener("transitionend",onTransitionEnd):resume()};if(s.autoplay.paused=!0,t)return g&&(p=s.params.autoplay.delay),g=!1,void proceed();const l=p||s.params.autoplay.delay;p=l-((new Date).getTime()-f),s.isEnd&&p<0&&!s.params.loop||(p<0&&(p=0),proceed())},resume=()=>{s.isEnd&&p<0&&!s.params.loop||s.destroyed||!s.autoplay.running||(f=(new Date).getTime(),y?(y=!1,run(p)):run(),s.autoplay.paused=!1,r("autoplayResume"))},onVisibilityChange=()=>{if(s.destroyed||!s.autoplay.running)return;const e=l();"hidden"===e.visibilityState&&(y=!0,pause(!0)),"visible"===e.visibilityState&&resume()},onPointerEnter=e=>{"mouse"===e.pointerType&&(y=!0,s.animating||s.autoplay.paused||pause(!0))},onPointerLeave=e=>{"mouse"===e.pointerType&&s.autoplay.paused&&resume()};n("init",(()=>{s.params.autoplay.enabled&&(s.params.autoplay.pauseOnMouseEnter&&(s.el.addEventListener("pointerenter",onPointerEnter),s.el.addEventListener("pointerleave",onPointerLeave)),l().addEventListener("visibilitychange",onVisibilityChange),f=(new Date).getTime(),start())})),n("destroy",(()=>{s.el.removeEventListener("pointerenter",onPointerEnter),s.el.removeEventListener("pointerleave",onPointerLeave),l().removeEventListener("visibilitychange",onVisibilityChange),s.autoplay.running&&stop()})),n("beforeTransitionStart",((e,a,t)=>{!s.destroyed&&s.autoplay.running&&(t||!s.params.autoplay.disableOnInteraction?pause(!0,!0):stop())})),n("sliderFirstMove",(()=>{!s.destroyed&&s.autoplay.running&&(s.params.autoplay.disableOnInteraction?stop():(c=!0,u=!1,y=!1,m=setTimeout((()=>{y=!0,u=!0,pause(!0)}),200)))})),n("touchEnd",(()=>{if(!s.destroyed&&s.autoplay.running&&c){if(clearTimeout(m),clearTimeout(a),s.params.autoplay.disableOnInteraction)return u=!1,void(c=!1);u&&s.params.cssMode&&resume(),u=!1,c=!1}})),n("slideChange",(()=>{!s.destroyed&&s.autoplay.running&&(g=!0)})),Object.assign(s.autoplay,{start:start,stop:stop,pause:pause,resume:resume})}export{Autoplay as A,Pagination as P};
//# sourceMappingURL=autoplay.mjs.map
