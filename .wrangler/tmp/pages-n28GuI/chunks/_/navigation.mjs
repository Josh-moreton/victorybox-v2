import{c as a}from"./create-element-if-not-defined.mjs";function Navigation(e){let{swiper:n,extendParams:i,on:t,emit:l}=e;i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null};const makeElementsArray=a=>(Array.isArray(a)?a:[a]).filter((a=>!!a));function getEl(a){let e;return a&&"string"==typeof a&&n.isElement&&(e=n.el.querySelector(a),e)?e:(a&&("string"==typeof a&&(e=[...document.querySelectorAll(a)]),n.params.uniqueNavElements&&"string"==typeof a&&e.length>1&&1===n.el.querySelectorAll(a).length&&(e=n.el.querySelector(a))),a&&!e?a:e)}function toggleEl(a,e){const i=n.params.navigation;(a=makeElementsArray(a)).forEach((a=>{a&&(a.classList[e?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===a.tagName&&(a.disabled=e),n.params.watchOverflow&&n.enabled&&a.classList[n.isLocked?"add":"remove"](i.lockClass))}))}function update(){const{nextEl:a,prevEl:e}=n.navigation;if(n.params.loop)return toggleEl(e,!1),void toggleEl(a,!1);toggleEl(e,n.isBeginning&&!n.params.rewind),toggleEl(a,n.isEnd&&!n.params.rewind)}function onPrevClick(a){a.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),l("navigationPrev"))}function onNextClick(a){a.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),l("navigationNext"))}function init(){const e=n.params.navigation;if(n.params.navigation=a(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let i=getEl(e.nextEl),t=getEl(e.prevEl);Object.assign(n.navigation,{nextEl:i,prevEl:t}),i=makeElementsArray(i),t=makeElementsArray(t);const initButton=(a,i)=>{a&&a.addEventListener("click","next"===i?onNextClick:onPrevClick),!n.enabled&&a&&a.classList.add(...e.lockClass.split(" "))};i.forEach((a=>initButton(a,"next"))),t.forEach((a=>initButton(a,"prev")))}function destroy(){let{nextEl:a,prevEl:e}=n.navigation;a=makeElementsArray(a),e=makeElementsArray(e);const destroyButton=(a,e)=>{a.removeEventListener("click","next"===e?onNextClick:onPrevClick),a.classList.remove(...n.params.navigation.disabledClass.split(" "))};a.forEach((a=>destroyButton(a,"next"))),e.forEach((a=>destroyButton(a,"prev")))}t("init",(()=>{!1===n.params.navigation.enabled?disable():(init(),update())})),t("toEdge fromEdge lock unlock",(()=>{update()})),t("destroy",(()=>{destroy()})),t("enable disable",(()=>{let{nextEl:a,prevEl:e}=n.navigation;a=makeElementsArray(a),e=makeElementsArray(e),n.enabled?update():[...a,...e].filter((a=>!!a)).forEach((a=>a.classList.add(n.params.navigation.lockClass)))})),t("click",((a,e)=>{let{nextEl:i,prevEl:t}=n.navigation;i=makeElementsArray(i),t=makeElementsArray(t);const s=e.target;if(n.params.navigation.hideOnClick&&!t.includes(s)&&!i.includes(s)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===s||n.pagination.el.contains(s)))return;let a;i.length?a=i[0].classList.contains(n.params.navigation.hiddenClass):t.length&&(a=t[0].classList.contains(n.params.navigation.hiddenClass)),l(!0===a?"navigationShow":"navigationHide"),[...i,...t].filter((a=>!!a)).forEach((a=>a.classList.toggle(n.params.navigation.hiddenClass)))}}));const disable=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),destroy()};Object.assign(n.navigation,{enable:()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),init(),update()},disable:disable,update:update,init:init,destroy:destroy})}export{Navigation as N};
//# sourceMappingURL=navigation.mjs.map
